<!doctype html>
<html lang="id">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Profile Creator</title>
  <script src="/_sdk/element_sdk.js"></script>
  <style>
        body {
            box-sizing: border-box;
            margin: 0;
            padding: 20px;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: #ffffff;
            min-height: 100%;
            display: flex;
            justify-content: center;
            align-items: flex-start;
        }

        .main-container {
            width: 100%;
            max-width: 500px;
            background-color: #ffffff;
            padding: 20px;
        }

        @media (max-width: 480px) {
            body {
                background-color: #ffffff;
                padding: 10px;
            }
            
            .main-container {
                padding: 15px;
            }
        }

        .profile-container {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }

        .profile-photo-section {
            flex-shrink: 0;
        }

        .profile-photo {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background-color: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            color: #666;
            overflow: hidden;
        }

        .profile-photo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .upload-btn {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 11px;
            cursor: pointer;
            width: 100%;
        }

        .upload-btn:hover {
            background-color: #0056b3;
        }

        .profile-info {
            flex: 1;
            min-width: 0;
        }

        .name-section {
            display: flex;
            align-items: center;
            gap: 4px;
            margin-bottom: 4px;
            margin-top: 12px;
        }

        .profile-name {
            font-weight: bold;
            font-size: 20px;
            color: #000000;
        }

        .verified-icon {
            width: 18px;
            height: 18px;
        }

        .username {
            font-size: 14px;
            color: #75757a;
            margin-bottom: 8px;
        }

        .stats-container {
            display: flex;
            gap: 25px;
            font-size: 15px;
            flex-wrap: wrap;
        }

        .stat-item {
            color: #000000;
            display: flex;
            flex-direction: column;
            gap: 1px;
            align-items: center;
        }

        .stat-number {
            font-weight: bold;
        }

        .description-section {
            margin-top: 20px;
        }

        .description {
            font-size: 16px;
            color: #75757a;
            line-height: 1.4;
            margin-bottom: 15px;
            min-height: 40px;
        }

        .uploaded-image {
            max-width: 100%;
            border-radius: 8px;
            margin-top: 15px;
            display: none;
        }

        .edit-section {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
        }

        .edit-section h3 {
            margin: 0 0 15px 0;
            font-size: 16px;
            color: #000000;
        }

        .input-group {
            margin-bottom: 12px;
        }

        .input-group label {
            display: block;
            font-size: 12px;
            color: #666;
            margin-bottom: 4px;
        }

        .input-group input, .input-group textarea {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
            box-sizing: border-box;
        }

        .input-group textarea {
            resize: vertical;
            min-height: 60px;
        }

        .random-btn {
            background-color: #28a745;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 12px;
            cursor: pointer;
            margin-top: 10px;
        }

        .random-btn:hover {
            background-color: #218838;
        }

        .hidden-input {
            display: none;
        }

        .toggle-edit-btn {
            background-color: #6c757d;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 12px;
            cursor: pointer;
            margin-bottom: 15px;
            width: 100%;
        }

        .toggle-edit-btn:hover {
            background-color: #5a6268;
        }

        .edit-section.hidden {
            display: none;
        }

        .toggle-edit-btn.hidden {
            display: none;
        }

        .double-tap-area {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }
    </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body>
  <div class="double-tap-area" id="doubleTapArea"></div>
  <div class="main-container">
   <div class="profile-container">
    <div class="profile-photo-section">
     <div class="profile-photo" id="profilePhoto"><span>No Photo</span>
     </div>
    </div>
    <div class="profile-info">
     <div class="name-section"><span class="profile-name" id="profileName">John Doe</span> <img src="1.png" alt="Verified" class="verified-icon">
     </div>
     <div class="username" id="profileUsername">
      @johndoe
     </div>
     <div class="stats-container">
      <div class="stat-item"><span class="stat-number" id="postCount">45</span> <span>Post</span>
      </div>
      <div class="stat-item"><span class="stat-number" id="followerCount">350K</span> <span>Follower</span>
      </div>
      <div class="stat-item"><span class="stat-number" id="followingCount">125</span> <span>Following</span>
      </div>
     </div>
    </div>
   </div>
   <div class="description-section">
    <div class="description" id="profileDescription">
     Welcome to my profile! I love creating amazing content and connecting with awesome people. Follow me for daily updates and inspiration! ðŸŒŸ
    </div><img id="uploadedImage" class="uploaded-image" alt="Uploaded content">
   </div><button class="toggle-edit-btn" onclick="toggleEditSection()" id="toggleBtn">Show Edit Profile</button>
   <div class="edit-section hidden" id="editSection">
    <h3>Edit Profile</h3>
    <div class="input-group"><label for="nameInput">Display Name:</label> <input type="text" id="nameInput" placeholder="Enter your name" value="John Doe">
    </div>
    <div class="input-group"><label for="usernameInput">Username:</label> <input type="text" id="usernameInput" placeholder="Enter username (without @)" value="johndoe">
    </div>
    <div class="input-group"><label for="descriptionInput">Bio Description:</label> <textarea id="descriptionInput" placeholder="Write your bio">Welcome to my profile! I love creating amazing content and connecting with awesome people. Follow me for daily updates and inspiration! ðŸŒŸ</textarea>
    </div>
    <div class="input-group"><label for="photoInput">Upload Profile Photo:</label> <input type="file" id="photoInput" accept="image/*">
    </div>
    <div class="input-group"><label for="photoUrlInput">Or Profile Photo URL:</label> <input type="url" id="photoUrlInput" placeholder="https://example.com/image.jpg">
    </div>
    <div class="input-group"><label for="contentImageInput">Upload Content Image:</label> <input type="file" id="contentImageInput" accept="image/*">
    </div>
    <div class="input-group"><label for="contentUrlInput">Or Content Image URL:</label> <input type="url" id="contentUrlInput" placeholder="https://example.com/image.jpg">
    </div><button class="random-btn" onclick="randomizeStats()">Random Stats</button>
   </div>
  </div>
  <script>
        const defaultConfig = {
            display_name: "John Doe",
            username: "johndoe",
            bio_text: "Welcome to my profile! I love creating amazing content and connecting with awesome people. Follow me for daily updates and inspiration! ðŸŒŸ"
        };

        // Initialize with random stats
        randomizeStats();

        // Photo upload functionality
        document.getElementById('photoInput').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const img = document.createElement('img');
                    img.src = e.target.result;
                    const photoDiv = document.getElementById('profilePhoto');
                    photoDiv.innerHTML = '';
                    photoDiv.appendChild(img);
                };
                reader.readAsDataURL(file);
            }
        });

        // Content image upload functionality
        document.getElementById('contentImageInput').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const uploadedImage = document.getElementById('uploadedImage');
                    uploadedImage.src = e.target.result;
                    uploadedImage.style.display = 'block';
                };
                reader.readAsDataURL(file);
            }
        });

        // Profile photo URL functionality
        document.getElementById('photoUrlInput').addEventListener('input', function(e) {
            const url = e.target.value.trim();
            if (url) {
                const img = document.createElement('img');
                img.src = url;
                img.onerror = function() {
                    this.src = '';
                    this.alt = 'Image failed to load';
                    this.style.display = 'none';
                };
                const photoDiv = document.getElementById('profilePhoto');
                photoDiv.innerHTML = '';
                photoDiv.appendChild(img);
            }
        });

        // Content image URL functionality
        document.getElementById('contentUrlInput').addEventListener('input', function(e) {
            const url = e.target.value.trim();
            if (url) {
                const uploadedImage = document.getElementById('uploadedImage');
                uploadedImage.src = url;
                uploadedImage.style.display = 'block';
                uploadedImage.onerror = function() {
                    this.src = '';
                    this.alt = 'Image failed to load';
                    this.style.display = 'none';
                };
            }
        });

        // Update profile when inputs change
        document.getElementById('nameInput').addEventListener('input', function() {
            const name = this.value || defaultConfig.display_name;
            document.getElementById('profileName').textContent = name;
            if (window.elementSdk) {
                window.elementSdk.setConfig({ display_name: name });
            }
        });

        document.getElementById('usernameInput').addEventListener('input', function() {
            const username = this.value || defaultConfig.username;
            document.getElementById('profileUsername').textContent = '@' + username;
            if (window.elementSdk) {
                window.elementSdk.setConfig({ username: username });
            }
        });

        document.getElementById('descriptionInput').addEventListener('input', function() {
            const bio = this.value || defaultConfig.bio_text;
            document.getElementById('profileDescription').textContent = bio;
            if (window.elementSdk) {
                window.elementSdk.setConfig({ bio_text: bio });
            }
        });

        function randomizeStats() {
            // Random Post: 40-900
            const posts = Math.floor(Math.random() * (900 - 40 + 1)) + 40;
            
            // Random Follower: 10-130K
            const followers = Math.floor(Math.random() * (130 - 10 + 1)) + 10;
            
            // Random Following: 121-999
            const following = Math.floor(Math.random() * (999 - 121 + 1)) + 121;
            
            document.getElementById('postCount').textContent = posts;
            document.getElementById('followerCount').textContent = followers + 'K';
            document.getElementById('followingCount').textContent = following;
        }

        function toggleEditSection() {
            const editSection = document.getElementById('editSection');
            const toggleBtn = document.getElementById('toggleBtn');
            
            if (editSection.classList.contains('hidden')) {
                editSection.classList.remove('hidden');
                toggleBtn.textContent = 'Hide Edit Profile';
            } else {
                editSection.classList.add('hidden');
                toggleBtn.textContent = 'Show Edit Profile';
            }
        }

        // Double tap functionality
        let tapCount = 0;
        let tapTimer = null;

        document.getElementById('doubleTapArea').addEventListener('click', function(e) {
            tapCount++;
            
            if (tapCount === 1) {
                tapTimer = setTimeout(function() {
                    tapCount = 0;
                }, 300);
            } else if (tapCount === 2) {
                clearTimeout(tapTimer);
                tapCount = 0;
                
                const toggleBtn = document.getElementById('toggleBtn');
                if (toggleBtn.classList.contains('hidden')) {
                    toggleBtn.classList.remove('hidden');
                } else {
                    toggleBtn.classList.add('hidden');
                }
            }
        });

        async function onConfigChange(config) {
            const displayName = config.display_name || defaultConfig.display_name;
            const username = config.username || defaultConfig.username;
            const bioText = config.bio_text || defaultConfig.bio_text;

            document.getElementById('profileName').textContent = displayName;
            document.getElementById('profileUsername').textContent = '@' + username;
            document.getElementById('profileDescription').textContent = bioText;
            
            document.getElementById('nameInput').value = displayName;
            document.getElementById('usernameInput').value = username;
            document.getElementById('descriptionInput').value = bioText;
        }

        function mapToCapabilities(config) {
            return {
                recolorables: [],
                borderables: [],
                fontEditable: undefined,
                fontSizeable: undefined
            };
        }

        function mapToEditPanelValues(config) {
            return new Map([
                ["display_name", config.display_name || defaultConfig.display_name],
                ["username", config.username || defaultConfig.username],
                ["bio_text", config.bio_text || defaultConfig.bio_text]
            ]);
        }

        // Initialize Element SDK
        if (window.elementSdk) {
            window.elementSdk.init({
                defaultConfig,
                onConfigChange,
                mapToCapabilities,
                mapToEditPanelValues
            });
        }
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'997daedba21ab7c5',t:'MTc2MjAyNDEzMC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>